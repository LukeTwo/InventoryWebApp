<!-- This takes a list of books from view.library and lists the names on their own rows -->
{% extends 'home/base.html' %}
{% block content %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<h3>Your books</h3>
<input class="form-control" id="myInput" type="text" placeholder="Search..">
<ul class="list-group" id="book-list">
{% if books %}  
    {% for book in books %}
        <li><a class="list-group-item" href="/library/{{ book.book_id }}/">{{ book.book_name }}</a></li>
    {% endfor %}
{% else %}
    <p>No books are available.</p>
{% endif %}
</ul>

<script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#book-list li").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
    </script>
{% endblock %}

